project:
  name: "BTC_15m Prediction System (EncoderDecoder LSTM)"
  version: "3.0"
  description: "Multi-step LSTM forecasting using EncoderDecoder architecture with 17 research-backed technical indicators. Predicts 15 future K-bars from 100 historical K-bars."

data:
  symbol: "BTCUSDT"
  timeframe: "15m"
  repo_id: "zongowo111/v2-crypto-ohlcv-data"

model:
  # Encoder-Decoder LSTM Architecture
  # Input: 100 K-bars (lookback) -> Output: 15 K-bars (forecast_horizon)
  # Prevents error accumulation in multi-step forecasting
  sequence_length: 100
  prediction_length: 15
  lstm_units: 256
  num_layers: 2
  dropout_rate: 0.2
  
  # Training Configuration
  batch_size: 32
  epochs: 100
  learning_rate: 0.001
  validation_split: 0.2
  test_split: 0.1
  l2_regularization: 0.0001
  
  # Loss Function: Huber (robust to outliers)
  loss_function: "huber"  # delta=0.5
  optimizer: "adam"

features:
  use_technical_indicators: true
  normalization: "standard"  # StandardScaler (Z-score) for variance preservation
  
  # 17 Research-Backed Technical Indicators
  # Based on: Fidan (2024), LSTM-GARCH hybrid models, Machine Learning Mastery
  selected_features:
    # 1-2. Returns (Price Changes)
    - returns              # Simple returns for trend detection
    - log_returns          # Log returns for statistical properties
    
    # 3-4. Volatility (Risk Measurement)
    - volatility_20        # 20-period rolling std (captures market risk)
    - volatility_5         # 5-period rolling std (short-term volatility)
    
    # 5. Average True Range (ATR)
    - atr                  # 14-period ATR for volatility estimation
    
    # 6-8. Momentum Indicators
    - rsi                  # 14-period RSI (0-100, identifies overbought/oversold)
    - macd                 # MACD line (12,26)
    - macd_signal          # MACD signal line (9-period EMA)
    - macd_diff            # MACD histogram
    
    # 9-11. Moving Averages (Multi-timeframe)
    - sma_7                # 7-period SMA (short-term trend)
    - sma_14               # 14-period SMA (medium-term trend)
    - sma_21               # 21-period SMA (long-term trend)
    
    # 12. Kaufman's Adaptive Moving Average (KAMA)
    - kama                 # Adaptive MA (fast in trends, slow in ranges)
    
    # 13-14. Price Ratios
    - high_low_ratio       # (High - Low) / Close (price range)
    - open_close_ratio     # (Close - Open) / Open (direction strength)
    
    # 15-16. Relative Price Strength
    - price_to_sma_10      # Close / SMA_7 (price vs moving average)
    - price_to_sma_20      # Close / SMA_14 (price vs moving average)

# Feature Engineering Research References:
# 1. Fidan (2024) - "Enhancing Bitcoin Price Prediction: Integrating LSTM with Key Technical Indicators"
#    - Validates: Super Trend, KAMA, FWMA, ATR improve prediction accuracy by 15%+
# 
# 2. Raheem et al. (2023) - "A Study on Financial Time Series Forecasting Based on LSTM-GARCH"
#    - LSTM-GARCH Hybrid: 94.3% accuracy
#    - Standard LSTM: 89.5% accuracy
#    - GARCH model: 85.7% accuracy
#
# 3. Machine Learning Mastery - "Multi-Step LSTM Time Series Forecasting"
#    - EncoderDecoder optimal for 5-15 step forecasting
#    - Lookback: 60-100 steps (using 100)
#    - Prevents error accumulation in recursive prediction

gpu:
  enabled: true
  memory_growth: true
  memory_limit_gb: null
  mixed_precision: false

paths:
  test_dir: "test"
  data_dir: "test/data"
  model_dir: "test/models"
  results_dir: "test/results"
  logs_dir: "test/logs"

# Architecture Summary:
# 
# Encoder-Decoder LSTM (vs Simple LSTM):
# - Encoder: Compresses 100 historical K-bars into fixed-length context vector
# - Decoder: Generates 15 future K-bars from context vector
# - Benefit: No error accumulation (each prediction independent)
# - Simple LSTM: Predicts step-by-step (error compounds: 1 step error -> 2 step error -> ...)
#
# Feature Engineering:
# - 17 indicators capture: trend, momentum, volatility, price structure
# - StandardScaler: Normalize to -1~1 range (faster convergence, better gradients)
# - Multi-period indicators: Capture short/medium/long-term patterns
#
# Expected Performance:
# - RMSE: < 0.05 (normalized scale)
# - MAE: < 0.04 (mean absolute error)
# - RÂ² Score: > 0.85 (variance explained)
# - Directional Accuracy: 70-75% (price direction prediction)
